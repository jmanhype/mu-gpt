# ontologies/akash.ttl
# Purpose: Akash = Γ(F) extension. Model global sections (Akash reads) over covers of O;
#          constrain reads to be well-typed, time-bounded, and receipt-backed.

@prefix akash: <http://example.org/akash#> .
@prefix kgs:   <http://example.org/kgs#> .
@prefix dct:   <http://purl.org/dc/terms/> .
@prefix rdf:   <http://www.w3.org/1999/02/22-rdf-syntax-ns#> .
@prefix rdfs:  <http://www.w3.org/2000/01/rdf-schema#> .
@prefix owl:   <http://www.w3.org/2002/07/owl#> .
@prefix xsd:   <http://www.w3.org/2001/XMLSchema#> .
@prefix sh:    <http://www.w3.org/ns/shacl#> .

akash:Ontology a owl:Ontology ;
  dct:title "Akash: Γ(F) Global Sections Extension" ;
  owl:versionInfo "v1.0" ;
  owl:imports kgs:Ontology ;
  rdfs:comment "Category-theoretic global sections over covers of O." .

########## Classes ##########
akash:Field          a rdfs:Class ; rdfs:comment "Conceptual knowledge field supporting global sections Γ(F)." .
akash:ResonanceQuery a rdfs:Class ; rdfs:comment "Typed request for a global section over a specified cover of O." .
akash:Section        a rdfs:Class ; rdfs:comment "A glued global section; consistent slice backed by receipts." .
akash:Attunement     a rdfs:Class ; rdfs:comment "An attunement step capturing provenance from query→section." .

########## Properties ##########
akash:queryHash       a owl:DatatypeProperty ; rdfs:domain akash:ResonanceQuery ; rdfs:range xsd:string .
akash:timeoutSeconds  a owl:DatatypeProperty ; rdfs:domain akash:ResonanceQuery ; rdfs:range xsd:decimal .
akash:sectionReceipt  a owl:DatatypeProperty ; rdfs:domain akash:Section        ; rdfs:range xsd:string .
akash:glueProof       a owl:DatatypeProperty ; rdfs:domain akash:Section        ; rdfs:range xsd:string .
akash:fromQuery       a owl:ObjectProperty   ; rdfs:domain akash:Section        ; rdfs:range akash:ResonanceQuery .

########## SHACL Guards ##########
# Resonance queries must declare timeout
akash:QueryShape a sh:NodeShape ;
  sh:targetClass akash:ResonanceQuery ;
  sh:property [ sh:path akash:timeoutSeconds ; sh:datatype xsd:decimal ; sh:minInclusive 0.1 ; sh:maxInclusive 300.0 ;
                sh:message "timeoutSeconds must be in [0.1, 300.0]." ] .

# Sections must carry a receipt (hash chain)
akash:SectionShape a sh:NodeShape ;
  sh:targetClass akash:Section ;
  sh:property [ sh:path akash:sectionReceipt ; sh:pattern "^[0-9a-f]{8,}$" ; sh:flags "i" ;
                sh:message "sectionReceipt must be hex-like." ] .
